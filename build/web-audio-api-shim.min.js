(function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,i)}return n[s].exports}var r=typeof require=="function"&&require;for(var s=0;s<i.length;s++)o(i[s]);return o})({1:[function(e,t,n){(function(e){"use strict";if(!e.AudioBuffer.prototype.copyFromChannel){e.AudioBuffer.prototype.copyFromChannel=function(e,t,n){var i=this.getChannelData(t|0).subarray(n|0);e.set(i.subarray(0,Math.min(i.length,e.length)))}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,n){(function(e){"use strict";if(!e.AudioBuffer.prototype.copyToChannel){e.AudioBuffer.prototype.copyToChannel=function(e,t,n){this.getChannelData(t|0).set(e,n|0)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(e,t,n){"use strict";e("./copyFromChannel");e("./copyToChannel")},{"./copyFromChannel":1,"./copyToChannel":2}],4:[function(e,t,n){(function(t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};var i=n(e("audio-worker-node"));if(!t.AudioContext.prototype.createAudioWorker){t.AudioContext.prototype.createAudioWorker=function(e,t,n){return new i(this,e,t,n)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"audio-worker-node":17}],5:[function(e,t,n){(function(t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};var i=n(e("stereo-panner-node"));if(!t.AudioContext.prototype.createStereoPanner){t.AudioContext.prototype.createStereoPanner=function(){return new i(this)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"stereo-panner-node":23}],6:[function(e,t,n){(function(e){"use strict";var t=e.OfflineAudioContext;var n=new t(1,1,44100);var i=false;try{var o=new Uint8Array(0).buffer;var r=function(){};i=!!n.decodeAudioData(o,r)}catch(s){}if(!i){(function(){var t=e.AudioContext;var n=t.prototype.decodeAudioData;t.prototype.decodeAudioData=function(e,t,i){var o=this;return new Promise(function(t,i){return n.call(o,e,t,i)}).then(t,i)};t.prototype.decodeAudioData.original=n})()}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(e,t,n){(function(t){"use strict";t.AudioContext=t.AudioContext||t.webkitAudioContext;t.OfflineAudioContext=t.OfflineAudioContext||t.webkitOfflineAudioContext;e("./createAudioWorker");e("./createStereoPanner");e("./decodeAudioData")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./createAudioWorker":4,"./createStereoPanner":5,"./decodeAudioData":6}],8:[function(e,t,n){"use strict";e("./startRendering")},{"./startRendering":9}],9:[function(e,t,n){(function(e){"use strict";var t=e.OfflineAudioContext;var n=new t(1,1,44100);var i=false;try{i=!!n.startRendering()}catch(o){}if(!i){(function(){var e=t.prototype.startRendering;t.prototype.startRendering=function(){var t=this;return new Promise(function(n){var i=t.oncomplete;t.oncomplete=function(e){n(e.renderedBuffer);if(typeof i==="function"){i.call(t,e)}};e.call(t)})};t.prototype.startRendering.original=e})()}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(e,t,n){"use strict";e("./AudioBuffer");e("./AudioContext");e("./OfflineAudioContext")},{"./AudioBuffer":3,"./AudioContext":7,"./OfflineAudioContext":8}],11:[function(e,t,n){(function(e){"use strict";function n(e,t,n){this.inlet=e.createGain();this.outlet=e.createScriptProcessor(n,1,1);this.param=this.inlet.gain;this.param.value=t;this.array=new Float32Array(n);this.inlet.connect(this.outlet);var i=this.array;this.outlet.onaudioprocess=function(e){i.set(e.inputBuffer.getChannelData(0))}}n.prototype.connect=function(t){e.AudioNode.prototype.connect.call(this.outlet,t)};n.prototype.disconnect=function(){e.AudioNode.prototype.disconnect.call(this.outlet)};t.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],12:[function(e,t,n){"use strict";var i=e("./audio-param-impl");function o(e,t,n){var o=new i(e,t,n);Object.defineProperties(o.inlet,{param:{value:o.param,enumerable:true},array:{value:o.array,enumerable:true},connect:{value:function(e){o.connect(e)}},disconnect:{value:function(){o.disconnect()}}});return o.inlet}t.exports=o},{"./audio-param-impl":11}],13:[function(e,t,n){"use strict";var i={};i.build=function(e){var t=e.numOfInput;var n=e.numOfOutput;if(t===1&&n===1){return o(e)}if(t===2&&n===2){return r(e)}return s(e)};function o(e){var t=e.func;var n=e.scope;var i=e.parameters;return function(e){e.inputBuffers=[e.inputBuffer.getChannelData(0)];e.outputBuffers=[e.outputBuffer.getChannelData(0)];e.parameters=i;t.call(n,e)}}function r(e){var t=e.func;var n=e.scope;var i=e.parameters;return function(e){var o=e.inputBuffer;var r=e.outputBuffer;e.inputBuffers=[o.getChannelData(0),o.getChannelData(1)];e.outputBuffers=[r.getChannelData(0),r.getChannelData(1)];e.parameters=i;t.call(n,e)}}function s(e){var t=e.func;var n=e.scope;var i=e.numOfInput;var o=e.numOfOutput;var r=e.parameters;return function(e){var s=new Array(i);var a=new Array(o);var u;for(u=0;u<i;u++){s[u]=e.inputBuffer.getChannelData(u)}for(u=0;u<o;u++){a[u]=e.outputBuffer.getChannelData(u)}e.inputBuffers=s;e.outputBuffers=a;e.parameters=r;t.call(n,e)}}t.exports=i},{}],14:[function(e,t,n){"use strict";var i=["onaudioprocess","sampleRate","self","onmessage","postMessage","close","importScripts"];var o={};o.tokens=function(e){var t=0;var n=[];function i(n){while(t<e.length){var i=e.charAt(t);if(!n.test(i)){break}t+=1}}function o(n){while(t<e.length){var i=e.charAt(t++);if(i===n){return}if(i==="\\"){t+=1}}throw new SyntaxError("Unexpected token ILLEGAL")}function r(){t+=1;while(t<e.length){var n=e.charAt(t++);if(n==="*"&&e.charAt(t)==="/"){t+=1;return}}throw new SyntaxError("Unexpected token ILLEGAL")}while(t<e.length){var s=t;var a=e.charAt(t++);if(/\s/.test(a)){i(/\s/)}else if(/[a-zA-Z_$]/.test(a)){i(/[\w$]/)}else if(/\d/.test(a)){i(/[.\d]/)}else if(/['"]/.test(a)){o(a)}else if(a==="/"){a=e.charAt(t);if(a==="/"){i(/[^\n]/)}else if(a==="*"){r()}}n.push(e.slice(s,t))}return n};o.filter=function(e){var t=o.tokens(e);function n(e){while(e--){if(/[\S/]/.test(t[e].charAt(0))){return t[e]}}return""}i.forEach(function(e){var i=0;var o;while((o=t.indexOf(e,i))!==-1){if(n(o)!=="."){t[o]="__self."+t[o]}i=o+1}});return t.join("")};o.compile=function(e){var t=["(function(__self) { 'use strict';",o.filter(e),"})"].join("\n");return eval.call(null,t)};t.exports=o},{}],15:[function(e,t,n){"use strict";function i(e){var t=null;Object.defineProperties(this,{self:{value:this,enumerable:true},sampleRate:{value:e.sampleRate,enumerable:true},onaudioprocess:{set:function(n){if(typeof n!=="function"){n=null}e.onaudioprocess(n);t=n},get:function(){return t},enumerable:true},onmessage:{set:function(t){if(typeof t==="function"){t=t.bind(this)}else{t=null}e.port2.onmessage=t},get:function(){return e.port2.onmessage},enumerable:true},postMessage:{value:function(){e.port2.postMessage.apply(e.port2,arguments)}},close:{value:function(){e.close.apply(e,arguments)}},importScripts:{value:function(){e.importScripts.apply(e,arguments)}}})}t.exports=i},{}],16:[function(e,t,n){(function(n){"use strict";var i=e("./audio-param-node");var o=e("./audio-worker-global-scope");var r=e("./audio-process-builder");var s=e("./script-loader");var a=e("./audio-worker-code");var u=e("./message-channel");var c=1024;function f(e,t,n,i){var r=new u;this.audioContext=e;this.sampleRate=e.sampleRate;this.inlet=e.createScriptProcessor(c,n,i);this.outlet=this.inlet;this.port1=r.port1;this.port2=r.port2;this.scope=new o(this);this._numOfInput=n;this._numOfOutput=i;this._isConnected=false;this._isTerminated=false;this._silencer=null;this._dc1buffer=null;this._dc1=null;this._params={};this._parameters={};var f=this.scope;s.load(t,function(e){try{a.compile(e).call(f,f)}catch(t){}})}f.prototype.connect=function(e){var t=this.audioContext;if(!this._isConnected){this._dc1buffer=t.createBuffer(1,2,t.sampleRate);this._dc1buffer.getChannelData(0).set([1,1]);this._dc1=t.createBufferSource();this._dc1.buffer=this._dc1buffer;this._dc1.loop=true;this._dc1.start(t.currentTime);Object.keys(this._params).forEach(function(e){this._dc1.connect(this._params[e])},this);this._isConnected=true}n.AudioNode.prototype.connect.call(this.inlet,e)};f.prototype.disconnect=function(){var e=this.audioContext;if(this._isConnected){this._dc1.stop(e.currentTime);this._dc1.disconnect();this._dc1buffer=null;this._dc1=null;this._isConnected=false}n.AudioNode.prototype.disconnect.call(this.outlet)};f.prototype.terminate=function(){if(!this._isTerminated){this.inlet.onaudioprocess=null;this.port1.close();this.port2.close();this._isTerminated=true}};f.prototype.addParameter=function(e,t){var n=this.audioContext;if(this._params.hasOwnProperty(e)){return this._params[e].param}if(this._silencer===null){this._silencer=n.createGain();this._silencer.gain.value=0;this._silencer.connect(this.outlet)}var o=new i(n,t,c);o.connect(this._silencer);if(this._isConnected){this._dc1.connect(o)}this._params[e]=o;this._parameters[e]=o.array;return o.param};f.prototype.getParameter=function(e){return this._params[e]&&this._params[e].param};f.prototype.removeParameter=function(e){if(!this._params.hasOwnProperty(e)){return}this._params[e].disconnect();delete this._params[e];delete this._parameters[e];if(Object.keys(this._params).length===0){this._silencer.disconnect();this._silencer=null}};f.prototype.onaudioprocess=function(e){if(this._isTerminated||typeof e!=="function"){this.inlet.onaudioprocess=null}else{this.inlet.onaudioprocess=r.build({func:e,scope:this.scope,numOfInput:this._numOfInput,numOfOutput:this._numOfOutput,parameters:this._parameters})}};f.prototype.close=function(){this.terminate()};f.prototype.importScripts=function(){throw new Error("Not Supported: importScripts")};t.exports=f}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./audio-param-node":12,"./audio-process-builder":13,"./audio-worker-code":14,"./audio-worker-global-scope":15,"./message-channel":18,"./script-loader":19}],17:[function(e,t,n){"use strict";var i=e("./utils");var o=e("./audio-worker-impl");function r(e,t,n,r){n=i.defaults(n,2);r=i.defaults(r,2);var s=new o(e,t,n,r);Object.defineProperties(s.inlet,{onmessage:{set:function(e){if(typeof e!=="function"){e=null}s.port1.onmessage=e},get:function(){return s.port1.onmessage},enumerable:true},connect:{value:function(e){return s.connect(e)}},disconnect:{value:function(){return s.disconnect()}},postMessage:{value:function(){return s.port1.postMessage.apply(s.port1,arguments)}},addParameter:{value:function(e,t){t=i.defaults(t,0);if(!Object.getOwnPropertyDescriptor(s.inlet,e)){Object.defineProperty(s.inlet,e,{get:function(){return s.getParameter(e)},configurable:true,enumerable:true})}return s.addParameter(e,t)}},removeParameter:{value:function(e){if(Object.getOwnPropertyDescriptor(s.inlet,e)){delete s.inlet[e]}return s.removeParameter(e)}},terminate:{value:function(){return s.terminate()}}});return s.inlet}t.exports=r},{"./audio-worker-impl":16,"./utils":20}],18:[function(e,t,n){(function(e){"use strict";function n(){this.port1=new i;this.port2=new i;this.port1._target=this.port2;this.port2._target=this.port1}function i(){this._onmessage=null;this._target=null;this._isClosed=false;this._pendings=[];Object.defineProperties(this,{onmessage:{set:function(e){var t=this;this._onmessage=e;if(this._pendings.length){setTimeout(function(){t._pendings.splice(0).forEach(function(e){t._onmessage(e)})},0)}},get:function(){return this._onmessage},enumerable:true}})}i.prototype.postMessage=function(e){var t=this._target;if(!this._isClosed){var n={type:"message",data:e};if(typeof t._onmessage==="function"){setTimeout(function(){t._onmessage(n)},0)}else{t._pendings.push(n)}}};i.prototype.close=function(){this._isClosed=true;this._pendings.splice(0)};t.exports=e.MessageChannel||n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(e,t,n){(function(e){"use strict";var n={};n.load=function(t,n){var i=new e.XMLHttpRequest;i.open("GET",t);i.onload=function(){if(i.status===200){n(i.response)}};i.send()};t.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],20:[function(e,t,n){"use strict";function i(e,t){return e!==undefined?e:t}t.exports={defaults:i}},{}],21:[function(e,t,n){"use strict";var i=4096;var o=new Float32Array(i);var r=new Float32Array(i);(function(){for(var e=0;e<i;e++){o[e]=Math.cos(e/i*Math.PI*.5);r[e]=Math.sin(e/i*Math.PI*.5)}})();t.exports={L:o,R:r}},{}],22:[function(e,t,n){(function(n){"use strict";var i=e("./curve");function o(e){this.audioContext=e;this.inlet=e.createChannelSplitter(2);this._pan=e.createGain();this.pan=this._pan.gain;this._wsL=e.createWaveShaper();this._wsR=e.createWaveShaper();this._L=e.createGain();this._R=e.createGain();this.outlet=e.createChannelMerger(2);this.inlet.channelCount=2;this.inlet.channelCountMode="explicit";this._pan.gain.value=0;this._wsL.curve=i.L;this._wsR.curve=i.R;this._L.gain.value=0;this._R.gain.value=0;this.inlet.connect(this._L,0);this.inlet.connect(this._R,1);this._L.connect(this.outlet,0,0);this._R.connect(this.outlet,0,1);this._pan.connect(this._wsL);this._pan.connect(this._wsR);this._wsL.connect(this._L.gain);this._wsR.connect(this._R.gain);this._isConnected=false;this._dc1buffer=null;this._dc1=null}o.prototype.connect=function(e){var t=this.audioContext;if(!this._isConnected){this._isConnected=true;this._dc1buffer=t.createBuffer(1,2,t.sampleRate);this._dc1buffer.getChannelData(0).set([1,1]);this._dc1=t.createBufferSource();this._dc1.buffer=this._dc1buffer;this._dc1.loop=true;this._dc1.start(t.currentTime);this._dc1.connect(this._pan)}n.AudioNode.prototype.connect.call(this.outlet,e)};o.prototype.disconnect=function(){var e=this.audioContext;if(this._isConnected){this._isConnected=false;this._dc1.stop(e.currentTime);this._dc1.disconnect();this._dc1=null;this._dc1buffer=null}n.AudioNode.prototype.disconnect.call(this.outlet)};t.exports=o}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./curve":21}],23:[function(e,t,n){"use strict";var i=e("./stereo-panner-impl");function o(e){var t=new i(e);Object.defineProperties(t.inlet,{pan:{value:t.pan,enumerable:true},connect:{value:function(e){return t.connect(e)}},disconnect:{value:function(){return t.disconnect()}}});return t.inlet}t.exports=o},{"./stereo-panner-impl":22}]},{},[10]);