(function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n?n:e)},f,f.exports,e,t,n,o)}return n[s].exports}var r=typeof require=="function"&&require;for(var s=0;s<o.length;s++)i(o[s]);return i})({1:[function(e,t,n){(function(e){"use strict";var t=e.AnalyserNode;if(t&&!t.prototype.hasOwnProperty("getFloatTimeDomainData")){(function(){var e=new Uint8Array(2048);t.prototype.getFloatTimeDomainData=function(t){this.getByteTimeDomainData(e);for(var n=0,o=t.length;n<o;n++){t[n]=(e[n]-128)*.0078125}}})()}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,n){"use strict";e("./getFloatTimeDomainData")},{"./getFloatTimeDomainData":1}],3:[function(e,t,n){(function(e){"use strict";var t=e.AudioBuffer;if(t&&!t.prototype.hasOwnProperty("copyFromChannel")){t.prototype.copyFromChannel=function(e,t,n){var o=this.getChannelData(t|0).subarray(n|0);e.set(o.subarray(0,Math.min(o.length,e.length)))}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],4:[function(e,t,n){(function(e){"use strict";var t=e.AudioBuffer;if(t&&!t.prototype.hasOwnProperty("copyToChannel")){t.prototype.copyToChannel=function(e,t,n){this.getChannelData(t|0).set(e,n|0)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],5:[function(e,t,n){"use strict";e("./copyFromChannel");e("./copyToChannel")},{"./copyFromChannel":3,"./copyToChannel":4}],6:[function(e,t,n){(function(e){"use strict";var t=e.AudioContext;if(t&&!t.prototype.hasOwnProperty("close")){t.prototype.close=null}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(e,t,n){(function(t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};var o=n(e("audio-worker-node"));var i=t.AudioContext;if(i&&!i.prototype.hasOwnProperty("createAudioWorker")){i.prototype.createAudioWorker=function(e,t,n){return new o(this,e,t,n)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"audio-worker-node":24}],8:[function(e,t,n){(function(t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};var o=n(e("stereo-panner-node"));var i=t.AudioContext;if(i&&!i.prototype.hasOwnProperty("createStereoPanner")){i.prototype.createStereoPanner=function(){return new o(this)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"stereo-panner-node":30}],9:[function(e,t,n){(function(e){"use strict";var t=e.AudioContext;var n=e.OfflineAudioContext;if(n){var o=new n(1,1,44100);var i=false;try{var r=new Uint8Array(0).buffer;var s=function(){};i=!!o.decodeAudioData(r,s)}catch(a){}if(!i){(function(){var e=t.prototype.decodeAudioData;t.prototype.decodeAudioData=function(t,n,o){var i=this;return new Promise(function(n,o){return e.call(i,t,n,o)}).then(n,o)};t.prototype.decodeAudioData.original=e})()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(e,t,n){(function(t){"use strict";if(!t.hasOwnProperty("AudioContext")&&t.hasOwnProperty("webkitAudioContext")){t.AudioContext=t.webkitAudioContext}if(!t.hasOwnProperty("OfflineAudioContext")&&t.hasOwnProperty("webkitOfflineAudioContext")){t.OfflineAudioContext=t.webkitOfflineAudioContext}e("./close");e("./createAudioWorker");e("./createStereoPanner");e("./decodeAudioData");e("./resume");e("./suspend")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./close":6,"./createAudioWorker":7,"./createStereoPanner":8,"./decodeAudioData":9,"./resume":11,"./suspend":12}],11:[function(e,t,n){(function(e){"use strict";var t=e.AudioContext;if(t&&!t.prototype.hasOwnProperty("resume")){t.prototype.resume=null}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],12:[function(e,t,n){(function(e){"use strict";var t=e.AudioContext;if(t&&!t.prototype.hasOwnProperty("suspend")){t.prototype.suspend=null}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],13:[function(e,t,n){(function(e){"use strict";var t=e.OfflineAudioContext;var n=e.AudioNode;if(t){var o=new t(1,1,44100);var i=false;try{o.createGain().disconnect(o.destination)}catch(r){i=true}if(!i){(function(){var e=n.prototype.connect;var t=n.prototype.disconnect;var o=function(e,t){for(var n=0,o=e.length;n<o;n++){if(e[n]!==t[n]){return false}}return true};var i=function(e){for(var n=0,o=e.numberOfOutputs;n<o;n++){t.call(e,n)}e._shim$connections=[]};var r=function(e,n){t.call(e,n);e._shim$connections=e._shim$connections.filter(function(e){return e[1]!==n})};var s=function(t,n){var r=[];var s=false;t._shim$connections.forEach(function(e){s=s||n[0]===e[0];if(!o(n,e)){r.push(e)}});if(!s){throw new Error("Failed to execute 'disconnect' on 'AudioNode': the given destination is not connected.")}i(t);r.forEach(function(n){e.call(t,n[0],n[1],n[2])});t._shim$connections=r};n.prototype.disconnect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}this._shim$connections=this._shim$connections||[];if(t.length===0){i(this)}else if(t.length===1&&typeof t[0]==="number"){r(this,t[0])}else{s(this,t)}};n.prototype.disconnect.original=t;n.prototype.connect=function(t){var o=arguments[1]===undefined?0:arguments[1];var i=arguments[2]===undefined?0:arguments[2];this._shim$connections=this._shim$connections||[];if(t instanceof n){e.call(this,t,o,i)}else{e.call(this,t,o);i=0}this._shim$connections.push([t,o,i])};n.prototype.connect.original=e})()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],14:[function(e,t,n){"use strict";e("./disconnect")},{"./disconnect":13}],15:[function(e,t,n){"use strict";e("./startRendering")},{"./startRendering":16}],16:[function(e,t,n){(function(e){"use strict";var t=e.OfflineAudioContext;if(t){var n=new t(1,1,44100);var o=false;try{o=!!n.startRendering()}catch(i){}if(!o){(function(){var e=t.prototype.startRendering;t.prototype.startRendering=function(){var t=this;return new Promise(function(n){var o=t.oncomplete;t.oncomplete=function(e){n(e.renderedBuffer);if(typeof o==="function"){o.call(t,e)}};e.call(t)})};t.prototype.startRendering.original=e})()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],17:[function(e,t,n){"use strict";e("./AnalyserNode");e("./AudioBuffer");e("./AudioContext");e("./AudioNode");e("./OfflineAudioContext")},{"./AnalyserNode":2,"./AudioBuffer":5,"./AudioContext":10,"./AudioNode":14,"./OfflineAudioContext":15}],18:[function(e,t,n){(function(e){"use strict";function n(e,t,n){this.inlet=e.createGain();this.outlet=e.createScriptProcessor(n,1,1);this.param=this.inlet.gain;this.param.value=t;this.array=new Float32Array(n);this.inlet.connect(this.outlet);var o=this.array;this.outlet.onaudioprocess=function(e){o.set(e.inputBuffer.getChannelData(0))}}n.prototype.connect=function(t){e.AudioNode.prototype.connect.call(this.outlet,t)};n.prototype.disconnect=function(){e.AudioNode.prototype.disconnect.call(this.outlet)};t.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(e,t,n){"use strict";var o=e("./audio-param-impl");function i(e,t,n){var i=new o(e,t,n);Object.defineProperties(i.inlet,{param:{value:i.param,enumerable:true},array:{value:i.array,enumerable:true},connect:{value:function(e){i.connect(e)}},disconnect:{value:function(){i.disconnect()}}});return i.inlet}t.exports=i},{"./audio-param-impl":18}],20:[function(e,t,n){"use strict";var o={};o.build=function(e){var t=e.numOfInput;var n=e.numOfOutput;if(t===1&&n===1){return i(e)}if(t===2&&n===2){return r(e)}return s(e)};function i(e){var t=e.func;var n=e.scope;var o=e.parameters;return function(e){e.inputBuffers=[e.inputBuffer.getChannelData(0)];e.outputBuffers=[e.outputBuffer.getChannelData(0)];e.parameters=o;t.call(n,e)}}function r(e){var t=e.func;var n=e.scope;var o=e.parameters;return function(e){var i=e.inputBuffer;var r=e.outputBuffer;e.inputBuffers=[i.getChannelData(0),i.getChannelData(1)];e.outputBuffers=[r.getChannelData(0),r.getChannelData(1)];e.parameters=o;t.call(n,e)}}function s(e){var t=e.func;var n=e.scope;var o=e.numOfInput;var i=e.numOfOutput;var r=e.parameters;return function(e){var s=new Array(o);var a=new Array(i);var u;for(u=0;u<o;u++){s[u]=e.inputBuffer.getChannelData(u)}for(u=0;u<i;u++){a[u]=e.outputBuffer.getChannelData(u)}e.inputBuffers=s;e.outputBuffers=a;e.parameters=r;t.call(n,e)}}t.exports=o},{}],21:[function(e,t,n){"use strict";var o=["onaudioprocess","sampleRate","self","onmessage","postMessage","close","importScripts"];var i={};i.tokens=function(e){var t=0;var n=[];function o(n){while(t<e.length){var o=e.charAt(t);if(!n.test(o)){break}t+=1}}function i(n){while(t<e.length){var o=e.charAt(t++);if(o===n){return}if(o==="\\"){t+=1}}throw new SyntaxError("Unexpected token ILLEGAL")}function r(){t+=1;while(t<e.length){var n=e.charAt(t++);if(n==="*"&&e.charAt(t)==="/"){t+=1;return}}throw new SyntaxError("Unexpected token ILLEGAL")}while(t<e.length){var s=t;var a=e.charAt(t++);if(/\s/.test(a)){o(/\s/)}else if(/[a-zA-Z_$]/.test(a)){o(/[\w$]/)}else if(/\d/.test(a)){o(/[.\d]/)}else if(/['"]/.test(a)){i(a)}else if(a==="/"){a=e.charAt(t);if(a==="/"){o(/[^\n]/)}else if(a==="*"){r()}}n.push(e.slice(s,t))}return n};i.filter=function(e){var t=i.tokens(e);function n(e){while(e--){if(/[\S/]/.test(t[e].charAt(0))){return t[e]}}return""}o.forEach(function(e){var o=0;var i;while((i=t.indexOf(e,o))!==-1){if(n(i)!=="."){t[i]="__self."+t[i]}o=i+1}});return t.join("")};i.compile=function(e){var t=["(function(__self) { 'use strict';",i.filter(e),"})"].join("\n");return eval.call(null,t)};t.exports=i},{}],22:[function(e,t,n){"use strict";function o(e){var t=null;Object.defineProperties(this,{self:{value:this,enumerable:true},sampleRate:{value:e.sampleRate,enumerable:true},onaudioprocess:{set:function(n){if(typeof n!=="function"){n=null}e.onaudioprocess(n);t=n},get:function(){return t},enumerable:true},onmessage:{set:function(t){if(typeof t==="function"){t=t.bind(this)}else{t=null}e.port2.onmessage=t},get:function(){return e.port2.onmessage},enumerable:true},postMessage:{value:function(){e.port2.postMessage.apply(e.port2,arguments)}},close:{value:function(){e.close.apply(e,arguments)}},importScripts:{value:function(){e.importScripts.apply(e,arguments)}}})}t.exports=o},{}],23:[function(e,t,n){(function(n){"use strict";var o=e("./audio-param-node");var i=e("./audio-worker-global-scope");var r=e("./audio-process-builder");var s=e("./script-loader");var a=e("./audio-worker-code");var u=e("./message-channel");var c=1024;function f(e,t,n,o){var r=new u;this.audioContext=e;this.sampleRate=e.sampleRate;this.inlet=e.createScriptProcessor(c,n,o);this.outlet=this.inlet;this.port1=r.port1;this.port2=r.port2;this.scope=new i(this);this._numOfInput=n;this._numOfOutput=o;this._isConnected=false;this._isTerminated=false;this._silencer=null;this._dc1buffer=null;this._dc1=null;this._params={};this._parameters={};var f=this.scope;s.load(t,function(e){try{a.compile(e).call(f,f)}catch(t){}})}f.prototype.connect=function(e){var t=this.audioContext;if(!this._isConnected){this._dc1buffer=t.createBuffer(1,2,t.sampleRate);this._dc1buffer.getChannelData(0).set([1,1]);this._dc1=t.createBufferSource();this._dc1.buffer=this._dc1buffer;this._dc1.loop=true;this._dc1.start(t.currentTime);Object.keys(this._params).forEach(function(e){this._dc1.connect(this._params[e])},this);this._isConnected=true}n.AudioNode.prototype.connect.call(this.inlet,e)};f.prototype.disconnect=function(){var e=this.audioContext;if(this._isConnected){this._dc1.stop(e.currentTime);this._dc1.disconnect();this._dc1buffer=null;this._dc1=null;this._isConnected=false}n.AudioNode.prototype.disconnect.call(this.outlet)};f.prototype.terminate=function(){if(!this._isTerminated){this.inlet.onaudioprocess=null;this.port1.close();this.port2.close();this._isTerminated=true}};f.prototype.addParameter=function(e,t){var n=this.audioContext;if(this._params.hasOwnProperty(e)){return this._params[e].param}if(this._silencer===null){this._silencer=n.createGain();this._silencer.gain.value=0;this._silencer.connect(this.outlet)}var i=new o(n,t,c);i.connect(this._silencer);if(this._isConnected){this._dc1.connect(i)}this._params[e]=i;this._parameters[e]=i.array;return i.param};f.prototype.getParameter=function(e){return this._params[e]&&this._params[e].param};f.prototype.removeParameter=function(e){if(!this._params.hasOwnProperty(e)){return}this._params[e].disconnect();delete this._params[e];delete this._parameters[e];if(Object.keys(this._params).length===0){this._silencer.disconnect();this._silencer=null}};f.prototype.onaudioprocess=function(e){if(this._isTerminated||typeof e!=="function"){this.inlet.onaudioprocess=null}else{this.inlet.onaudioprocess=r.build({func:e,scope:this.scope,numOfInput:this._numOfInput,numOfOutput:this._numOfOutput,parameters:this._parameters})}};f.prototype.close=function(){this.terminate()};f.prototype.importScripts=function(){throw new Error("Not Supported: importScripts")};t.exports=f}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./audio-param-node":19,"./audio-process-builder":20,"./audio-worker-code":21,"./audio-worker-global-scope":22,"./message-channel":25,"./script-loader":26}],24:[function(e,t,n){"use strict";var o=e("./utils");var i=e("./audio-worker-impl");function r(e,t,n,r){n=o.defaults(n,2);r=o.defaults(r,2);var s=new i(e,t,n,r);Object.defineProperties(s.inlet,{onmessage:{set:function(e){if(typeof e!=="function"){e=null}s.port1.onmessage=e},get:function(){return s.port1.onmessage},enumerable:true},connect:{value:function(e){return s.connect(e)}},disconnect:{value:function(){return s.disconnect()}},postMessage:{value:function(){return s.port1.postMessage.apply(s.port1,arguments)}},addParameter:{value:function(e,t){t=o.defaults(t,0);if(!Object.getOwnPropertyDescriptor(s.inlet,e)){Object.defineProperty(s.inlet,e,{get:function(){return s.getParameter(e)},configurable:true,enumerable:true})}return s.addParameter(e,t)}},removeParameter:{value:function(e){if(Object.getOwnPropertyDescriptor(s.inlet,e)){delete s.inlet[e]}return s.removeParameter(e)}},terminate:{value:function(){return s.terminate()}}});return s.inlet}t.exports=r},{"./audio-worker-impl":23,"./utils":27}],25:[function(e,t,n){(function(e){"use strict";function n(){this.port1=new o;this.port2=new o;this.port1._target=this.port2;this.port2._target=this.port1}function o(){this._onmessage=null;this._target=null;this._isClosed=false;this._pendings=[];Object.defineProperties(this,{onmessage:{set:function(e){var t=this;this._onmessage=e;if(this._pendings.length){setTimeout(function(){t._pendings.splice(0).forEach(function(e){t._onmessage(e)})},0)}},get:function(){return this._onmessage},enumerable:true}})}o.prototype.postMessage=function(e){var t=this._target;if(!this._isClosed){var n={type:"message",data:e};if(typeof t._onmessage==="function"){setTimeout(function(){t._onmessage(n)},0)}else{t._pendings.push(n)}}};o.prototype.close=function(){this._isClosed=true;this._pendings.splice(0)};t.exports=e.MessageChannel||n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],26:[function(e,t,n){(function(e){"use strict";var n={};n.load=function(t,n){var o=new e.XMLHttpRequest;o.open("GET",t);o.onload=function(){if(o.status===200){n(o.response)}};o.send()};t.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],27:[function(e,t,n){"use strict";function o(e,t){return e!==undefined?e:t}t.exports={defaults:o}},{}],28:[function(e,t,n){"use strict";var o=4096;var i=new Float32Array(o);var r=new Float32Array(o);(function(){for(var e=0;e<o;e++){i[e]=Math.cos(e/o*Math.PI*.5);r[e]=Math.sin(e/o*Math.PI*.5)}})();t.exports={L:i,R:r}},{}],29:[function(e,t,n){(function(n){"use strict";var o=e("./curve");function i(e){this.audioContext=e;this.inlet=e.createChannelSplitter(2);this._pan=e.createGain();this.pan=this._pan.gain;this._wsL=e.createWaveShaper();this._wsR=e.createWaveShaper();this._L=e.createGain();this._R=e.createGain();this.outlet=e.createChannelMerger(2);this.inlet.channelCount=2;this.inlet.channelCountMode="explicit";this._pan.gain.value=0;this._wsL.curve=o.L;this._wsR.curve=o.R;this._L.gain.value=0;this._R.gain.value=0;this.inlet.connect(this._L,0);this.inlet.connect(this._R,1);this._L.connect(this.outlet,0,0);this._R.connect(this.outlet,0,1);this._pan.connect(this._wsL);this._pan.connect(this._wsR);this._wsL.connect(this._L.gain);this._wsR.connect(this._R.gain);this._isConnected=false;this._dc1buffer=null;this._dc1=null}i.prototype.connect=function(e){var t=this.audioContext;if(!this._isConnected){this._isConnected=true;this._dc1buffer=t.createBuffer(1,2,t.sampleRate);this._dc1buffer.getChannelData(0).set([1,1]);this._dc1=t.createBufferSource();this._dc1.buffer=this._dc1buffer;this._dc1.loop=true;this._dc1.start(t.currentTime);this._dc1.connect(this._pan)}n.AudioNode.prototype.connect.call(this.outlet,e)};i.prototype.disconnect=function(){var e=this.audioContext;if(this._isConnected){this._isConnected=false;this._dc1.stop(e.currentTime);this._dc1.disconnect();this._dc1=null;this._dc1buffer=null}n.AudioNode.prototype.disconnect.call(this.outlet)};t.exports=i}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./curve":28}],30:[function(e,t,n){"use strict";var o=e("./stereo-panner-impl");function i(e){var t=new o(e);Object.defineProperties(t.inlet,{pan:{value:t.pan,enumerable:true},connect:{value:function(e){return t.connect(e)}},disconnect:{value:function(){return t.disconnect()}}});return t.inlet}t.exports=i},{"./stereo-panner-impl":29}]},{},[17]);